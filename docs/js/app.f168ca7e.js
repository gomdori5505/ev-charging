(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},r={app:0},i=[];function s(e){return c.p+"js/"+({home:"home","login~mypage~profileEdit~signup":"login~mypage~profileEdit~signup",login:"login",mypage:"mypage",profileEdit:"profileEdit",signup:"signup"}[e]||e)+"."+{home:"c11adddc","login~mypage~profileEdit~signup":"ae105fdb",login:"89c3ea23",mypage:"7ee22972",profileEdit:"e9909f02",signup:"4826a7ea"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={home:1,"login~mypage~profileEdit~signup":1,login:1,mypage:1,profileEdit:1,signup:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise((function(t,a){for(var n="css/"+({home:"home","login~mypage~profileEdit~signup":"login~mypage~profileEdit~signup",login:"login",mypage:"mypage",profileEdit:"profileEdit",signup:"signup"}[e]||e)+"."+{home:"cceb0e9a","login~mypage~profileEdit~signup":"8b6099ac",login:"9deb4d24",mypage:"5cf6b890",profileEdit:"9deb4d24",signup:"9deb4d24"}[e]+".css",r=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===r))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){u=p[s],l=u.getAttribute("data-href");if(l===n||l===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[e],d.parentNode.removeChild(d),a(i)},d.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){o[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var p=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",p.name="ChunkLoadError",p.type=n,p.request=o,a[1](p)}r[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/ev-charging/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-card",{attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-toolbar",[a("v-btn",{attrs:{text:"",router:"",to:{name:"home"},exact:""}},[e._v(" EV ")]),a("v-spacer"),1===e.checkLoginData?a("div",[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({attrs:{text:"",exact:""}},"v-btn",o,!1),n),[e._v(" 마이페이지 ")])]}}],null,!1,3101159849)},[a("v-list",[a("v-list-item",{attrs:{link:"",router:"",to:{name:"mypage",params:{page:"profile"}}}},[a("v-list-item-title",[e._v(" 프로필 ")])],1),a("v-list-item",{attrs:{link:"",router:"",to:{name:"mypage",params:{page:"favorite"}}}},[a("v-list-item-title",[e._v(" 나의 즐겨찾기 ")])],1),a("v-list-item",[a("v-list-item-title",[e._v("ccc")])],1)],1)],1),a("v-btn",{attrs:{text:"",exact:""},on:{click:function(t){return e.signout()}}},[e._v(" 로그아웃 ")])],1):0===e.checkLoginData?a("div",[a("v-btn",{attrs:{text:"",router:"",to:{name:"signup"},exact:""}},[e._v(" 회원가입 ")]),a("v-btn",{attrs:{text:"",router:"",to:{name:"login"},exact:""}},[e._v(" 로그인 ")])],1):e._e()],1),a("v-snackbar",{attrs:{timeout:e.timeout,absolute:"",top:"",color:"success"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.$store.state.snackBarStatus=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}]),model:{value:e.$store.state.snackBarStatus,callback:function(t){e.$set(e.$store.state,"snackBarStatus",t)},expression:"$store.state.snackBarStatus"}},[e._v(" "+e._s(e.$store.state.snackBarText)+" ")])],1),a("v-main",[a("router-view")],1)],1)},r=[],i=a("5530"),s=a("2f62"),c={name:"App",data:function(){return{timeout:4e3}},methods:{signout:function(){var e=this;this.$firebase.auth().signOut().then((function(){e.$store.dispatch("snackBarOpen","로그아웃 되었습니다."),e.$router.push({name:"home"}).catch((function(){}))})).catch((function(e){console.log(e)}))}},created:function(){this.$store.dispatch("checkLogin")},computed:Object(i["a"])({},Object(s["c"])(["checkLoginData"]))},u=c,l=a("2877"),p=a("6544"),d=a.n(p),f=a("7496"),m=a("8336"),g=a("b0af"),h=a("8860"),v=a("da13"),b=a("5d23"),y=a("f6c4"),k=a("e449"),E=a("2db4"),D=a("2fa4"),S=a("71d9"),U=Object(l["a"])(u,o,r,!1,null,null,null),w=U.exports;d()(U,{VApp:f["a"],VBtn:m["a"],VCard:g["a"],VList:h["a"],VListItem:v["a"],VListItemTitle:b["b"],VMain:y["a"],VMenu:k["a"],VSnackbar:E["a"],VSpacer:D["a"],VToolbar:S["a"]});a("d3b7");var I=a("8c4f"),B=a("260b");n["a"].use(I["a"]);var x=function(e,t,a){B["a"].auth().currentUser?a({name:"home"}):a()},O=function(e,t,a){B["a"].auth().currentUser?a():a({name:"login"})},T=[{path:"/",name:"home",component:function(){return a.e("home").then(a.bind(null,"bb51"))}},{path:"/login",name:"login",beforeEnter:x,component:function(){return Promise.all([a.e("login~mypage~profileEdit~signup"),a.e("login")]).then(a.bind(null,"a55b"))}},{path:"/signup",name:"signup",beforeEnter:x,component:function(){return Promise.all([a.e("login~mypage~profileEdit~signup"),a.e("signup")]).then(a.bind(null,"34c3"))}},{path:"/mypage/:page",name:"mypage",beforeEnter:O,component:function(){return Promise.all([a.e("login~mypage~profileEdit~signup"),a.e("mypage")]).then(a.bind(null,"bd34"))}},{path:"/mypage/profile/:page",name:"profileEdit",beforeEnter:O,component:function(){return Promise.all([a.e("login~mypage~profileEdit~signup"),a.e("profileEdit")]).then(a.bind(null,"0012"))}}],L=new I["a"]({mode:"history",base:"/ev-charging/",routes:T}),N=L,C=(a("4160"),a("159b"),a("bc3a")),P=a.n(C);n["a"].use(s["a"]);var j=new s["a"].Store({state:{key:"0ZgyPnMBptn91BSdo5JXU4jvYNYB7puUnQzkXKP81T9PY67NeKiuOgIn%2baQmDk8zPmd9yhslatMa%2b7OGZFsEaw%3d%3d",chargeDatas:[],checkLoginData:null,uidData:null,snackBarStatus:!1,snackBarText:null,checkFavoriteStatus:!1,email:null,nickName:null,updateUserDataResult:!1,favoriteDatas:null},getters:{apiData:function(e){var t={},a=[];return e.chargeDatas.forEach((function(e){a.push({statNm:e.statNm,statId:e.statId,chgerId:e.chgerId,chgerType:e.chgerType,addr:e.addr,lat:+e.lat,lng:+e.lng,useTime:e.useTime,busiId:e.busiId,busiNm:e.busiNm,busiCall:e.busiCall,stat:+e.stat,statUpdDt:e.statUpdDt,powerType:e.powerType,zcode:e.zcode,parkingFree:e.parkingFree,note:e.note})})),t.datas=a,t}},mutations:{setData:function(e,t){e.chargeDatas=t},setLoginData:function(e,t){e.checkLoginData=t.login,e.uidData=t.uid},setSnackBarOpen:function(e,t){e.snackBarStatus=!0,e.snackBarText=t},setCheckFavorite:function(e,t){e.checkFavoriteStatus=t?{status:t.value,value:t.value}:{status:!1,value:null}},setGetUserData:function(e,t){e.email=t.email,e.nickName=t.nickName},setUpdateUserData:function(e,t){e.updateUserDataResult=t},setFavoriteList:function(e,t){e.favoriteDatas=t}},actions:{loadEvDatas:function(e){var t=e.commit,a=e.state;P.a.get("http://open.ev.or.kr:8080/openapi/services/EvCharger/getChargerInfo?serviceKey=".concat(a.key)).then((function(e){console.log(e),t("setData",e.data.items[0].item)})).catch((function(e){console.log(e)})).then((function(){}))},checkLogin:function(e){var t=e.commit;B["a"].auth().onAuthStateChanged((function(e){t("setLoginData",e?{login:1,uid:e.uid}:{login:0,uid:!1})}))},snackBarOpen:function(e,t){var a=e.commit;a("setSnackBarOpen",t)},checkFavorite:function(e,t){var a=e.commit;B["a"].database().ref("favorite").child(t.userId).child(t.statId).once("value").then((function(e){a("setCheckFavorite",e.val())}))},proceedFavorite:function(e,t){var a=e.commit;switch(t.type){case"create":B["a"].database().ref("favorite").child(t.userId).child(t.statId).set({value:t.value}),a("setCheckFavorite",{value:t.value});break;default:B["a"].database().ref("favorite").child(t.userId).child(t.statId).update({value:t.value}),a("setCheckFavorite",{value:t.value});break}},createUser:function(e,t){e.commit;B["a"].database().ref("user").child(t.userId).set({email:t.email,nickName:t.nickName})},getUserData:function(e,t){var a=e.commit;B["a"].database().ref("user").child(t).once("value").then((function(e){a("setGetUserData",e.val())}))},updateUserData:function(e,t){var a=e.commit;B["a"].auth().currentUser.updateEmail(t.email).then((function(){console.log("success to update the email on Auth"),B["a"].database().ref("user").child(B["a"].auth().currentUser.uid).update({email:t.email},(function(e){e?(console.log(e),a("setUpdateUserData",!1)):(console.log("success to update the email on DB"),B["a"].database().ref("user").child(B["a"].auth().currentUser.uid).update({nickName:t.nickName},(function(e){e?(console.log(e),a("setUpdateUserData",!1)):(console.log("success to update the nickName on DB"),B["a"].auth().currentUser.updatePassword(t.password).then((function(){console.log("success to update the password on Auth"),N.push({name:"mypage",params:{page:"profile"}}),a("setSnackBarOpen","프로필 수정이 완료되었습니다.")})).catch((function(e){console.log(e),a("setUpdateUserData",!1)})))})))}))})).catch((function(e){console.log(e),a("setUpdateUserData",!1)}))},getFavoriteList:function(e,t){var a=e.commit,n=[];B["a"].database().ref("favorite").child(t.uidData).once("value").then((function(e){var o=function(a){!0===e.val()[a].value&&t.apiData.forEach((function(e){a===e.statId&&n.push({statId:e.statId,statNm:e.statNm,stat:e.stat,addr:e.addr,useTime:e.useTime})}))};for(var r in e.val())o(r);n=_.uniqBy(n,"statId"),a("setFavoriteList",n)}))}},modules:{}}),A=a("f309");n["a"].use(A["a"]);var F=new A["a"]({}),$=a("ecee"),V=a("ad3d"),M=a("c074"),z=a("b702"),K=a("f2d1");$["c"].add(M["a"],z["a"],K["a"]),n["a"].component("font-awesome-icon",V["a"]);a("ea7b"),a("ae8c");var R={apiKey:"AIzaSyAIevm8ygThFQf7adAG4a-R8jRdUSRK1gM",authDomain:"ev-charging-305ce.firebaseapp.com",databaseURL:"https://ev-charging-305ce-default-rtdb.firebaseio.com",projectId:"ev-charging-305ce",storageBucket:"ev-charging-305ce.appspot.com",messagingSenderId:"866203404962",appId:"1:866203404962:web:054221eca29316d07125fb"};B["a"].initializeApp(R),n["a"].prototype.$firebase=B["a"];var G,q=a("9955"),J=a.n(q),Q=a("2ef0"),Y=a.n(Q);n["a"].config.productionTip=!1,n["a"].prototype.$axios=P.a,n["a"].use(J.a,{name:"custom",lodash:Y.a}),B["a"].auth().onAuthStateChanged((function(e){G||(G=new n["a"]({router:N,store:j,vuetify:F,render:function(e){return e(w)}}).$mount("#app"))}))}});
//# sourceMappingURL=app.f168ca7e.js.map